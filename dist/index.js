/*!
 * responsive-gsap 0.0.1
 * https://github.com/phucbm/responsive-gsap
 *
 * @license MIT
 * @author: phucbm, https://github.com/phucbm
 */
import{useGSAP as R}from"@gsap/react";import A from"gsap";A.registerPlugin(R);function L({scope:n,dependencies:r,revertOnUpdate:G,setup:u,mediaQueries:i,observeResize:f,playAfterLoad:a=!1,debug:e=!1}){return R(()=>{let m=C(n);if(!m){console.warn("[useResponsiveGSAP] No root element found");return}e&&console.log("[useResponsiveGSAP] Initializing");let s;if(a)if(typeof a=="object")s=a;else throw new Error("[useResponsiveGSAP] playAfterLoad is true but no handlers provided. Use playAfterLoad: { isLoadComplete, isLoadingEnabled, onLoadComplete, offLoadComplete }");let g=A.matchMedia(),S=m,l={tl:null},p;function d(o){return()=>{e&&console.log("[useResponsiveGSAP] Running setup"),p&&(e&&console.log("[useResponsiveGSAP] Running user cleanup"),p());let t=o(S);l.tl=t.timeline||null,p=t.cleanup,e&&(console.log("[useResponsiveGSAP] Timeline captured:",l.tl),s&&console.log("[useResponsiveGSAP] isLoadComplete:",s.isLoadComplete())),a&&l.tl&&(s.isLoadingEnabled()?(l.tl.paused()||(e&&console.log("[useResponsiveGSAP] Pausing timeline (playAfterLoad enabled)"),l.tl.pause()),s.isLoadComplete()&&(e&&console.log("[useResponsiveGSAP] Playing timeline (load already complete)"),l.tl.play())):(e&&console.log("[useResponsiveGSAP] Loading disabled, playing timeline immediately"),l.tl.play()))}}let P=()=>{if(!a||!s)return;let o=()=>{e&&console.log("[useResponsiveGSAP] Load complete event fired"),l.tl&&(e&&console.log("[useResponsiveGSAP] Playing timeline on load complete"),l.tl.play())};return s.onLoadComplete(o),()=>{e&&console.log("[useResponsiveGSAP] Cleaning up load complete listener"),s.offLoadComplete(o)}};i&&i.length>0?(e&&console.log("[useResponsiveGSAP] Setting up media queries:",i.length),i.forEach(({query:o,setup:t})=>{g.add(o,()=>(d(t)(),P()))})):u&&(e&&console.log("[useResponsiveGSAP] Setting up with default media query"),g.add("(min-width: 0px)",()=>(d(u)(),P())));let c=null;if(f){e&&console.log("[useResponsiveGSAP] Setting up ResizeObserver for:",f);let o=S.querySelectorAll(f);if(o.length>0){let t=i&&i.length>0?d(i[0].setup):u?d(u):null;t&&(c=new ResizeObserver(()=>{e&&console.log("[useResponsiveGSAP] Resize detected, re-running setup"),t()}),o.forEach(v=>c.observe(v)),e&&console.log("[useResponsiveGSAP] Observing",o.length,"elements"))}else e&&console.log("[useResponsiveGSAP] No elements found for selector:",f)}return()=>{e&&console.log("[useResponsiveGSAP] Cleaning up"),g.revert(),c&&c.disconnect(),p&&p()}},{scope:n,dependencies:r,revertOnUpdate:G})}function C(n){let r=null;if(!n){console.warn("[useResponsiveGSAP] No scope provided");return}return typeof n=="object"&&"current"in n?r=n.current:typeof n=="string"?r=typeof document<"u"?document.querySelector(n):null:n instanceof Element&&(r=n),r}export{L as useResponsiveGSAP};
//# sourceMappingURL=index.js.map